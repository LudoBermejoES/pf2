---
layout: default
---
<header class="page-header">
  {% if page.chapter %}
  <span class="chapter-badge">{{ page.chapter }}</span>
  {% endif %}
  <h1>
    {{ page.title }}
    {% if page.source %}
    <span class="source-badge {% if page.source == 'PC2' %}pc2{% elsif page.source == 'PC1' %}pc1{% else %}pc1-pc2{% endif %}">{{ page.source }}</span>
    {% endif %}
  </h1>
  {% if page.description %}
  <p class="page-description">{{ page.description }}</p>
  {% endif %}
</header>

<div class="page-body">
  {{ content }}
</div>

{% if page.level %}
<script>
  // AÃ±adir badge de nivel a los traits de dotes
  document.addEventListener('DOMContentLoaded', function() {
    const traitsHeader = document.querySelector('.feat-traits-header');
    if (traitsHeader) {
      const levelBadge = document.createElement('span');
      levelBadge.className = 'feat-trait feat-level';
      levelBadge.textContent = 'Nivel {{ page.level }}';
      traitsHeader.appendChild(levelBadge);
    }
  });
</script>
{% endif %}

{% if page.related %}
<section class="related-content">
  <h2>Contenido Relacionado</h2>
  <div class="related-grid">
    {% for item in page.related %}
    <a href="{{ item.url | relative_url }}" class="related-card">
      <h3>{{ item.title }}</h3>
      <p>{{ item.description }}</p>
    </a>
    {% endfor %}
  </div>
</section>
{% endif %}
